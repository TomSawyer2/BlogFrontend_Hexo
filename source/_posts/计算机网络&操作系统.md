---
title: 计算机网络&操作系统
date: 2022-02-20 13:20:00
categories:
- 计算机网络
- 操作系统
- 学习笔记
tags:
- 计算机网络
- 操作系统
- 学习笔记
---

# 计算机网络

**结贴：三级优秀四级合格 ✿✿ ヽ(°▽°)ノ ✿**

## 三级

### 选择题

- 聚合后可用地址数 = 2^主机位 - 2
- BGP 发言人之间通过 TCP 交流
- OSPF 协议一个区域路由器数不超过 200 个
- 嵌入式安装插座连接双绞线，多介质信息插座连接铜缆和光纤
- Catalyst 6500 管理 ip：set interface sc0 ...，配置缺省路由：set ip route 0.0.0.0 ...
- IEEE802.11 标准无线传输频道定义在 2.4GHz 的 ISM 波段
- 无线接入点默认 IP 为 10.0.0.1
- UDP 默认端口 162
- DHCP discover->offer->request->ack

### 综合题

地址类别：1.0.0.0~127.255.255.255 A 类 128.0.0.0~191.255.255.255 B 类 192.0.0.0~223.255.255.255 C 类
网络地址：IP 地址中网络位不变，主机位为 0
直接广播地址：IP 地址中网络位不变，主机位为 1
主机号：IP 地址中主机位不变，网络位为 0
子网内第一个可用 IP 地址：网络地址后一个
子网内最后一个可用 IP 地址：直接广播地址前一个
配置 POS 端口标志：pos flag s1s0 数值（2SDH 0SONET）

传入 TAP 监听路由器之间的流量
计算子网的掩码的时候需要考虑+2

ip route 0.0.0.0 0.0.0.0 ...

最后一题算的时候子网范围从题给条件后面一个地址开始算，子网结束地址应该为起始地址 + 2^n - 2 - 1，下一个子网开始地址为起始地址 + 2^n

最后一题配置内网访问外网用 nat 和 global

可用地址段计算的时候需要把所有可能的 2^n - 2 个 ip 地址全部写出来

switchport access vlan ID

TCP 客户端发送 SYN（SEQ=j）到服务器，确认客户的 SYN（ACK=j+1），自己发送一个 SYN 包（SEQ=k），客户端发送确认包 ACK（ACK=k+1）

## 四级

### 选择题

- 程序状态字 PSW=CPU 工作状态码+条件码+中断屏蔽码
- Linux 进程状态：运行状态、中断状态、不可中断状态、僵尸状态、停止状态
- 进程的必要组成成分：进程控制块+数据+指令代码
- 适合交互式操作系统的调度算法：先来先服务、多级反馈队列、时间片轮转、高优先级优先
- 与时间相关的调度算法：先来先服务 FCFS、短作业优先 SJF、最高响应比优先 HRRF、时间片轮转 RR
- 批处理相关调度算法：先来先服务、高响应比有限、高优先级优先
- 批处理指标：吞吐量、周转时间、CPU 利用率
- 多道程序设计系统效率指标：系统吞吐量
- 管程无法保证自身互斥
- 进程用户栈中的信息不需要保存在进程控制块内
- 进程控制块 PCB 包含的内容主要有：进程名、进程号、存储信息、优先级、当前状态、资源清单、家族关系、消息队列指针、进程队列指针和当前打开文件
- 线程描述表记录的信息：线程 ID、指令地址寄存器、处理器寄存器、硬件设备寄存器、栈现场状态
- 进程控制块的组织方式：线性方法、索引方法、链接方法
- 线程的实现方式：用户线程、内核线程、混合线程
- 用原语创建进程：申请 PCB->填写 PCB->放入就绪队列
- 撤销原语进程：找到 PCB->撤销子进程->释放进程资源->撤销 PCB
- 唤醒原语进程：找到 PCB->修改 PCB 状态为就绪->插入到就绪队列
- 阻塞原语进程：中断 CPU 执行->保存现场信息->修改 PCB 状态为阻塞->插入阻塞队列
- 线程必不可少的资源：程序计数器、一组寄存器、栈
- pthread_join 运行后等待一个特定的线程退出
- 进程和程序相同点：都有数据、指令代码
- 进程独有：进程控制块、堆栈、动态链接库
- 所有进程的 PCB 排列成三类队列：就绪队列、等待队列、运行队列
- 可能的状态转换：就绪->运行、运行->阻塞、运行->就绪、就绪->挂起、阻塞->挂起
- 进程控制原语：创建、撤销、挂起、激活、阻塞、唤醒、改变优先级
- 进程是资源分配的基本单位，线程是处理器调度的基本单位
- 导致饥饿现象：短作业有限、多级反馈队列、最短剩余时间优先、最高优先级
- 最小响应时间：交互式系统
- 进程三种状态：运行态、等待态、就绪态
- 适合实时系统的算法：速率单调、最早最终时限优先
- 影响时间片值设置的主要因素：系统响应时间、就绪进程的数目、计算机的处理能力
- 进程挂起、唤醒操作算法：内外存交换算法、进程页面调入算法、进程页面淘汰算法
- 适合进程或线程调度的算法：时间片轮转、最高优先级、先来先服务
- 适合作业调度的算法：先来先服务、最短作业优先、最高优先级
- 周转时间最少：批处理系统
- PV 操作 P 使 S--，若 S>=0 则继续执行，否则置为等待状态；V 使 S++，若 S>0 则继续执行，否则释放队列第一个
- TS 指令互斥算法：测试锁变量，若为 1 则重复执行命令，若为 0 则置 1，进入临界区；退出临界区时置 0
- 页号是地址的高位部分，页内地址是地址的低位部分
- 简单页式->虚拟页式需要增加有效位、修改位、访问位
- 页面修改后需要修改访问位、修改位
- 页面从磁盘调入内存需要修改内存块号、驻留位、访问位
- FIFO 页面置换算法可能产生 Belady 异常现象
- 最佳适应算法：空闲区大小按小->大排列
- 首次适应算法：优先使用低地址空闲区
- 存在外碎片的存储管理方法：动态分区、段式
- 存在内碎片的存储管理方法：虚拟页式、段页式、固定分区
- 可以与虚拟存储技术结合使用的内存管理方案：页式、段式、段页式
- 可进行进程部分交换：页式、段式、段页式
- 可进行整个进程交换：固定分区、可变分区
- 工作集算法可以预防内存换页时的抖动
- 管理空闲物理内存的方法：空闲块链表、位示图
- 支持多道程序设计：可变分区、页式、固定分区、段页式
- 用到访问位的页面置换算法：最近最久未使用算法 LRU、时钟算法 CLOCK、最近未使用算法 NRU
- 快表存放在缓冲器中
- 下次适应算法：从上一次分配的位置开始扫描内存，选择下一个大小足够的可用块
- 实现地址变化的数据结构：空闲区表、页表、位图
- 虚拟页式存储方案中常用的页面调入策略：请求调页、预调页
- 页式不能用移动技术解决碎片问题
- 页表长度=进程地址空间/页面大小
- 内存分配表的组织方式：位示图表、空闲页面表、空闲块表
- 虚拟页式存储系统中与页面调度有关的策略：调入策略、置页策略、置换策略
- 页框分配、置换策略：固定分配局部置换、可变分配全局置换、可变分配局部置换

- 文件的存放方式依赖于文件的物理结构和存放文件设备的物理特性
- 磁盘的寻道时间对磁盘读写性能影响最大，调度时间不影响
- 每个文件需要一个至少包含文件名和文件物理存储地址的文件控制块
- 扫描算法（电梯算法），从 50 出发，50->100，0->50
- 最短寻道优先调度算法（SSF）：近->远
- 文件系统中空闲区的管理采用成组链接法
- FAT32 采用链接结构
- 文件存储空间分配管理方法：空闲块表、空闲块链表、位示图、成组链接法
- 每个盘块 x 字节，文件控制块 y 字节，目录文件共有 z 个文件控制块，则分离前平均访盘次数为(z/(x/y) + 1) / 2
- 每个盘块 x 字节，文件控制块 y 字节，目录文件共有 z 个文件控制块，第一部分占 a 字节，则分离后平均访盘次数为（[z / (x / a)] + 1） / 2 + 1
- 外存储设备存取过程：读状态->置数据->置地址->置控制->读状态
- 物理块大小 x 字节，用 y 位表示一个物理块号，则底数为 x/(y/4)
- 打开一个文件的过程：查找 FCB 主部->检查打开方式->检查用户身份->填写进程打开文件表
- 创建一个文件的过程：检查参数合法性->检查重名->查找 FCB 空闲位置->填写 FCB
- 关闭一个文件的过程：查找文件->修改 FCB 相关内容->置 FCB 为非活跃->写回磁盘
- 删除一个文件的过程：查找文件->检查删除合法性->收回 FCB 资源->收回文件存储空间
- 文件系统包括文件：普通文件、目录文件、特殊文件
- 磁臂调度算法：先来先服务、最短寻道时间优化、扫描、循环扫描

- 程序和 CPU 之间数据传送和控制方式：程序直接控制方式、中断控制方式（键盘）、DMA 方式（磁盘主要）、通道控制方式
- I/O 软件的层次：用户 I/O 软件层、与设备无关的操作系统软件层、设备驱动程序层和中断处理程序层
- 用户使用外部设备控制设备的命令传递：用户应用层->设备独立层->设备驱动层->设备硬件
- 设备分配数据结构：系统设备表 SDT->设备控制表 DCT->控制器控制表 COCT->通道控制表 CHCT
- 通道分类：字节多路通道、数据选择通道、数组多路通道
- SPOOLing 的主要组成部分：输入井和输出井、输入缓冲区和输出缓冲区、输入进程和输出进程
- 设备分配策略：先来先服务、高优先级优先
- 使用虚拟技术进行设备管理：提高设备并发度
- 实现中断控制方式需要：中断控制器、地址总线和数据总线、设备控制器（与状态寄存器无关）
- 程序直接控制方式与设备触发器无关
- 实现程序直接控制方式需要：设备状态寄存器、地址总线和数据总线、设备控制寄存器、设备数据缓冲区、地址译码器
- 设备无关软件层的功能：设备驱动程序的同一接口、设备命名、设备保护、提供一个与设备无关的逻辑块、缓冲、存储设备的块分配、独占设备的分配和释放、出错处理
- 实现 DMA 需要：DMA 控制器、地址总线和数据总线
- 实现通道控制方式需要：通道控制器、地址总线和数据总线、设备控制器、通道程序代码
- 提高 I/O 性能：缓冲、异步 I/O、DMA 和通道部件、虚拟设备
- I/O 设备=块设备（硬盘、磁带）+字符设备
- 设备控制表包含：设备类型、设备标识、设备忙/闲标记、控制器控制表 COCT 指针
- 控制器控制表包含：控制器标识、控制器忙/闲标记、控制器等待队列首指针、通道控制表 CHCT 指针
- 系统设备表包含：设备类型、设备标识、获得设备的进程号、设备控制表 DCT 指针

- 银行家算法：死锁避免算法
- 资源有序分配法：死锁预防算法
- 防止独占设备死锁：静态分配，分配时加锁
- 请求和保持：在占有资源的同时继续申请
- SPOOLing 技术破坏了互斥条件

- 网络协议=语法+语义+时序
- 覆盖范围最大的网络：广域主干网
- TCP/IP 参考模型：应用层、传输层、互联层、主机-网络层
- 无线传感器网的网络拓扑结构会改变
- 网络层实现路由选择功能
- 广域网通常采用网状拓扑结构模型，通常采用分组交换技术
- 总线型拓扑不是树形拓扑的拓展
- 最大数据传输速率=频率\*2
- 环形拓扑需要提供节点加入与退出机制
- Ethernet 帧头长度字段的值不包括帧前定界符
- Ethernet 网卡物理地址长度 48 位
- IEEE802.11 管理帧：信标帧、探测帧、认证帧
- 1000Base-T、TX 非屏蔽双绞线 CX 屏蔽双绞线 SX 多模光纤 FX、LX、LH、ZX 单模光纤
- CX 25m T 100m SX 550m LX 5km LH 10km ZX 70km
- Ethernet 前导码字段长 7 字节，帧前定界符 1B，目的 MAC 地址 6B，源 MAC 地址 6B，类型/长度 2B，数据 46-1500B，帧校验字段 4 字节
- 总线型局域网 CSMA/CD、Token Bus 环形局域网 Token Ring
- IEEE802.3 规定 Ethernet 帧最小长度为 64B
- 目标地址长度 48 位
- 广域网 WAN 无线网状网络 WMN 局域网 LAN 无线传感网 WSN
- 传统以太网 802.3 快速以太网 802.3u 千兆以太网 802.3z 万兆以太网 802.3ae
- 以太网采用 48 位 MAC 地址
- 传统以太网数据部分最大长度 1500B
- IEEE802.11 帧控制字段长度 2B，有 4 个地址字段，每个长 6B，数据字段最长 2312B
- 多模光纤最远 550m，单模光纤最远 5km
- 红外无线局域网：定向光束、全方位、漫反射
- 无线局域网数据帧使用的地址不是 IP 地址
- Ethernet 中帧前定界符和前导码不计算在帧长度
- 目前局域网主要采用星型拓扑结构
- 万兆以太网只支持光纤和双绞线
- Ethernet 目的地址和原地址都写 MAC 地址

- 直接广播地址为一个有效的网络号和一个全 1 的主机号
- MTU 规定一个帧最多能携带的数据量
- A、B、C 单播地址 D 组播地址 E 保留地址
- ADSL 是非对称数字用户线路
- RIP 解决慢收敛：水平分割、毒性逆转、触发刷新
- IP 服务特点：不可靠、无连接、尽最大努力
- 偏移字节数=片偏移字段值\*8
- 组播组管理协议：IGMP、CGMP
- Ethernet 帧格式前导码用于接收同步
- 头部校验和域用于保证 IP 数据报报头的完整性
- 路由表更新：有新的/距离变近/路径变化
- ARP 协议请求广播响应单播
- TCP 端口采用 16 位二进制数表示
- 报头长度是 32b 的整数倍
- IPv6 基本头长 40B
- RIP 向量-距离 OSPF 链路-状态
- IP 数据报首部固定 20 字节
- RIP 解决慢收敛：水平分割、保持对策
- IGMPv2 添加了组员快速离开机制
- IGMPv3 添加了成员指定接收或指定不接受某些组播源的报文
- IPv6 包含单播、组播、任播、特殊地址
- 客户机/服务器模型中服务器响应客户机的请求：并发服务器方案、重复服务器方案
- FTP 的数据连接建立模式：主动模式与被动模式
- FTP 的双重连接：控制连接、数据连接
- P2P 网络中采用了分布式结构化拓扑：Pastry、Tapestry、Chord、CAN
- 混合 P2P 网络的结点种类：用户结点、搜索结点、索引结点
- 浏览器组成：控制单元、客户单元、解释单元
- 控制单元用于解释键盘、鼠标输入的命令
- POP3 三阶段：认证、事务处理、更新
- HINFO 主机描述 MX 邮件交换机 SOA 授权开始
- DHT 分布式结构化网络
- HTTP 响应报文有一个状态行和若干个报头行
- SMTP 在 TCP 的 25 端口守候
- 即时通信系统由 RFC2778 规定通信模型
- 即时通信系统需要呈现服务和即时消息服务
- 即时通信系统一般采用用户/用户模式和用户/服务器模式
- QQ 主要用 UDP MSN 用 MSNP ICQ、AOL 用 OSCAR
- XMPP 的实体地址称为 JID
- VOD 包括 NVOD、TVOD、IVOD
- SIP 系统四种元素：重定向服务器、注册服务器、用户代理、代理服务器
- IP 电话系统通过 MCU 实现多点通信，网关可看作 H.323 设备
- Skype 穿越防火墙的协议：STUN、TURN
- IP 电话系统四个基本组件：终端设备、网关、多点控制单元、网守
- SIP 用户代理包括：用户代理客户机 UAC 发起呼叫，用户代理服务器 UAS 负责响应，均存于用户终端中
- 小世界假设平均转发 6 次
- 心跳服务器用于管理在线用户列表
- UNIX 系统安全级可达 C2 级
- IPSec 安全协议工作在网络层，包括身份认证头 AH 协议和封装安全负载 ESP 协议，AH 头在原有 IP 数据报数据和 IP 头之间，安全协定 SA 定义的连接是单工的
- CMIP 协议采用委托监控机制
- ISO 定义的网关模型：组织模型、信息模型、通信模型、功能模型
- DES 属于分组密码
- CMIP 协议由 CMIS 定义服务原语
- DES 输出 64 位，每轮的置换函数相同，8 位奇偶校验
- RMON 提供 SNMP 的补充功能
- CMIP 协议通过 ROP 实现事件报告
- Caesar 密码密钥最大可能为 25
- AES 密钥属于私钥，长度为 128、192、256，分组长度 128 位
- DES 对称加密，64 位分组长度，56 位密钥钥匙
- IPSec 包含 AH 和 ESP 协议，SA 是三元组，AH 协议不能数据加密
- Blowfish 算法需要加法和异或运算
- ElGamal 算法是公钥，密文依赖于随机数，基于椭圆曲线理论，密文长度是明文的两倍
- MD5 经过四步处理得到 128 位消息摘要，SHA-1 生成 160 位信息摘要
- Kerberos 由 MIT 开发，基于对称密钥机制
- 国内保护等级：一级自主保护，二级指导保护，三级监督保护，四级强制保护，五级专控保护
- RSA 公钥
- RC4、IDEA 对称加密
- S/MIME 针对域名解析服务，支持 DNS 请求加密
- 被动攻击是窃听、盗取

- 实现进程挂起、唤醒的算法：内外存交换、进程页面调入、进程页面淘汰
- ESP 工作在网络层

## 真题

- Cable Modem 把用于计算机和有线电视同轴电缆连接
- 高端路由器无故障连续工作时间大于 10w h
- 内部网关协议：RIP、OSPF
- 每一个 OSPF 区域拥有一个 32 位的区域标识符，每个区域路由器数不超过 200 个
- 6500 配置时间 set time fri 3/26/2022 11:45:14
- 6500 设置传输速率单位为 Mbps
- Cisco 路由器配置 network ... 0.0.255.255 area 0 range ... 255.255.0.0
- HiperLAN/2 协议一个 AP 覆盖室内 30m，室外 150m
- RPR 外环顺时针，内环逆时针，统计复用
- 802.11 局域网 802.16 建筑物
- ADSL 上行速率 64kbps-640kbps
- 99.9% 8.8h 99.99% 53m 99.999% 5m
- 不同 AS 间使用 BGP
- VLAN ID 1-4094，可用于以太网的为 2-1000
- 6500 set interface 设备管理地址 子网 缺省网关
- 蓝牙非对称连接 732.2kbps/57.6kbps 对称连接 433.9kbps
- conduit 低->高
- snmp-server enable traps； snmp-server host ... pub
- ip route 目前地址 子网掩码 下一跳地址
- SONET 帧 pos flag s1s0 0
- router ospf 65 之后要填聚合网络的子网掩码的反码
- area 区域号 range 子网地址 子网掩码
- mutex 信号量初值为 1，有 k 个进程在等待队列时信号量的值为-k
- 页式存储管理方案一个进程的虚拟地址空间为 a 位，页面大小为 b 位，用 c 位表示物理页号时页表需要占用 a / b \* c / b
- 进程运行->就绪的可能原因：进程创建完成、时间片用完、被调度程序抢占处理机
- 路由选择功能实现在互联层
- Ethernet 网卡物理地址 48 位
- VoIP 系统中网关的主要功能：号码查询、信号调制、路由寻址
- Ethernet 帧 64B-1518B
- 目的地址与子网掩码按位与得到目的网络
- SNMP 协议收集数据可采用轮询机制
- OSPF 收敛比 RIP 快
- 先来先服务不可抢占
- 设备独立层用于硬件和端口的映射
- 组播组管理协议：IGMP、CGMP
- 采用分布式结构拓扑的 P2P 网络：Pastry、Tapestry、Chord、CAN
- 可变分区满足多道程序设计且最简单
- 管程内使用的是共享数据结构和一组操作过程
- 操作系统类型：批处理、交互式、实时、分布式
- 信号量初值一定>=0
- IP 数据报分片后分片报头中标识和目的地址不变
- 混合式 P2P 网络包含用户、搜索、索引结点
- 宽带城域网保证 QoS 要求的技术：RSVP、DiffServ、MPLS
- 路由器突发处理能力是用最小帧间隔发送数据包而不引起丢失的最大发送速率衡量的
- 包含配置信息的配置 BPDU 不超过 35B，包含拓扑变化信息的通知 BPDU 不超过 4B
- DHCP 服务器作用域不负责 IP 地址分配
- 点对点模式 256 基本模式 1024
- DNS 默认端口 53
- SNMP 基于 UDP 传输
- DHCP Reply 对应 DHCP ACK
- BGP 路由选择协议 open、update、keepalive、notification
- 碎片丢弃交换模式交换机开始转发数据帧时已经接收 64B 帧
- NVRAM 启动配置文件、备份配置文件
- permit ip any any 要放在最底下
- ICMP 报文 0 应答 3 目标不可达 4 源抑制 5 重定向 8 请求 9 路由器通告 11 超时 12 参数失灵
- IEEE802.16 32-134Mbps
- 防火墙应该加在路由器之后
- 设备独立层用于屏蔽 I/O 设备驱动的多样性
- 进程控制块必须常驻内存
- SPOOLing 系统主要组成部分：输入井和输出井、输入缓冲区和输出缓冲区、输入进程和输出进程
- 判断页面是否在内存：驻留位、中断位
- VLAN 的划分：交换机端口、MAC 地址、网络层地址、广播组
- 交换机优先级增值 4096
- backbonefast 收敛速度
- ftp 注册用户需要管理员权限
- FTP 服务器记录不属于 DNS 服务器资源记录
- MRTG 不能用于网络嗅探
- 过滤检测数据包的设备 IPS
- 以 ATM 为基础的带宽无源光网络以基于信源的 ATM 传输数据
- 传统的核心路由器采用共享背板结构
- BGP 发言人使用 TCP 与其他发言人交换路由信息
- VLAN name 最多用 32 个字符表示
- 多道程序设计特点：独立性、随机性、共享性
- 页面置换时需要用到访问位、修改位
- I/O 系统包括中断处理程序、设备驱动程序、与设备无关的操作系统软件、用户级软件
- IGMP 用于组播成员的加入与退出
- DSA、ElGamal 公钥加密
- 固定分区、可变分区均连续
- 内存属于可重用资源
- 线程描述表记录处理器寄存器的值、硬件设备寄存器的值、栈现场状态
- 实现地址变换：空闲区表、页表、位图
-
